# Position 定位

从正常普通流(Normal Flow)布局中取出元素, 并使它们具有不同的行为

## 普通流

默认情况下, 块级元素的内容宽度是其父元素的宽度的100%, 并且与其内容一样高. 内联元素宽高与它们的内容宽高一样. 你不能对内联元素设置宽高

*正常的布局流*是将元素放置在浏览器视口内的系统. 默认情况下, 块级元素在视口中垂直布局-每个都将显示在上一个元素下面的新行上, 并且它们的外边距将分隔开它们

内联元素不同-它们不会出现在新行上; 相反, 它们之间以及任何相邻(或包裹)的文本内容位于同一行上, 只要在父块级元素的宽度内有空间可以这样做. 如果没有空间, 那么溢流的文本或元素将向下移动到新行

如果两个相邻元素都在其上设置外边距, 并且两个外边距接触, 则两个外边距中较大者保留(外边距折叠)

## 定位

`position` 大多数情况下, `height` `width`被设为`auto`的绝对定位元素, 按其内容大小调整尺寸, 但是, 被绝对定位的元素可以通过指定`top` `bottom`, 保留height `auto` , 来填充可用的垂直空间. 它们同样可以通过指定`left` `right` 并将`width`指定为`auto`填充可用的水平空间

`top, bottom, left, right` 为百分比时, 相对于包含块或定位祖先的`content-box`的相应尺寸(`width, height`)

### Static position 静态定位

静态定位是每个元素获取的默认值(static)-将元素放入它在文档布局流中的正常位置

### relative position 相对定位

类似静态定位, 占据在正常普通流中, 但是可以修改其位置; 元素先放置在为添加定位是的位置, 再在不改变页面布局的前提下调整元素位置(对`table-group` `table-row` `table-column` `table-cell` `table-caption` 无效)

### top bottom left right

用来精确指定将要定位元素移动到的位置 

### absolute position 绝对定位

绝对定位的元素不再存在于正常文档布局流中, 并不占据原本的空间; 不为元素预留空间, 指定元素相对于最近的非`static`定位祖先元素的padding-box偏移, 来确定元素位置; 外边距不会发生叠加

默认相当于第一屏定位

> 外边距仍会影响定位的元素, 然而外边距折叠不会

### 定位上下文

默认情况下, `<html>`是绝对定位元素的"包含元素"

我们可以改变定位上下文--绝对定位的元素相对于其定位的元素

### z-index

原顺序中, 后定位元素将会覆盖先定位的元素

`z-index` 是对Z轴的参考; 默认情况下, 定位的元素都具有`z-index`为`auto`(实际为0)

`z-index`只接受无单位索引值, 较高的值将大于较低的值

### fixed position 固定定位

绝对定位相对于`<html>`, 而固定定位相对于浏览器视口本身; 不为元素预留空间, 指定元素相对于`viewport`的位置来指定元素位置, 因此元素的位置在屏幕滚动时不发生改变; `fixed`创建新的层叠上下文. 当祖先元素的`transform`属性非`none`时, 容器由视口改为该祖先

top left right bottom 都设置为0时, 若元素有具体长度值, margin为auto; 元素将会水平垂直居中;
top.
固定定位元素也不存在于正常普通流(Normal Flow)

### position: sticky

盒位置根据正常流计算, 然后相对于该元素在流中的`flow root(BFC)` 和 `containing block` 定位, 在所有情况下, 该元素定位不对后续元素造成影响. 仍保留原始位置空间

粘性定位可以被认为是相对定位和固定定位的混合, 元素在跨越特定阈值(top, bottom, left, right)前为相对定位, 之后为固定定位

```js
#one {position: sticky; top: 10px;}
```

position:sticky的元素不会脱离包含元素

在`viewport`视口滚动到元素`top`距离小于`10px`之前, 元素为相对定位; 之后, 元素固定在与顶部距离`10px`位置, 直到`viewport`视口回滚到阈值以下

### 堆叠上下文 Stacking Context

一个堆叠上下文中, 无论z-index的值多大或多小, 都不会影响其他堆叠上下文

### 贝塞尔曲线